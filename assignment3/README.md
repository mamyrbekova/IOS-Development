## üß© –û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã—Ö —Ä–µ—à–µ–Ω–∏–π

–ü—Ä–∏ –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ —ç—Ç–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ —è –≤—ã–±—Ä–∞–ª–∞ **–∫–ª–∞—Å—Å** –¥–ª—è `ShoppingCart` –∏ **—Å—Ç—Ä—É–∫—Ç—É—Ä—ã** –¥–ª—è `Product` –∏ `Order`. –¢–∞–∫–æ–π –≤—ã–±–æ—Ä —Å–≤—è–∑–∞–Ω —Å —Ç–µ–º, –∫–∞–∫ –∏–º–µ–Ω–Ω–æ –¥–∞–Ω–Ω—ã–µ –¥–æ–ª–∂–Ω—ã –≤–µ—Å—Ç–∏ —Å–µ–±—è –≤ –ø–∞–º—è—Ç–∏ –∏ –∫–∞–∫ —è –æ–∂–∏–¥–∞—é —Ä–∞–±–æ—Ç–∞—Ç—å —Å –Ω–∏–º–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏.

### –ü–æ—á–µ–º—É `ShoppingCart` ‚Äî –∫–ª–∞—Å—Å?
–ö–æ—Ä–∑–∏–Ω–∞ –ø–æ–∫—É–ø–æ–∫ —è–≤–ª—è–µ—Ç—Å—è —Å—É—â–Ω–æ—Å—Ç—å—é, —É –∫–æ—Ç–æ—Ä–æ–π –µ—Å—Ç—å **–∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç—å** –∏ —Å–æ—Å—Ç–æ—è–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –Ω—É–∂–Ω–æ —Ä–∞–∑–¥–µ–ª—è—Ç—å –º–µ–∂–¥—É —Ä–∞–∑–Ω—ã–º–∏ —á–∞—Å—Ç—è–º–∏ –ø—Ä–æ–≥—Ä–∞–º–º—ã. –ö–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–±–∞–≤–ª—è–µ—Ç –∏–ª–∏ —É–¥–∞–ª—è–µ—Ç —Ç–æ–≤–∞—Ä—ã, —è —Ö–æ—á—É, —á—Ç–æ–±—ã –≤—Å–µ —Å—Å—ã–ª–∫–∏ –Ω–∞ –æ–±—ä–µ–∫—Ç –∫–æ—Ä–∑–∏–Ω—ã —Å—Ä–∞–∑—É ¬´—É–≤–∏–¥–µ–ª–∏¬ª –∏–∑–º–µ–Ω–µ–Ω–∏—è. –≠—Ç–æ –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π —Å–ª—É—á–∞–π –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è **reference semantics**. –ï—Å–ª–∏ –±—ã `ShoppingCart` –±—ã–ª–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π, –∫–∞–∂–¥–∞—è –µ—ë –∫–æ–ø–∏—è –∂–∏–ª–∞ –±—ã —Å–≤–æ–µ–π –∂–∏–∑–Ω—å—é, –∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ç–∞–ª–æ –±—ã —Å–ª–æ–∂–Ω–æ.

### –ü–æ—á–µ–º—É `Product` –∏ `Order` ‚Äî —Å—Ç—Ä—É–∫—Ç—É—Ä—ã?
`Product` –æ–ø–∏—Å—ã–≤–∞–µ—Ç —Ç–æ–≤–∞—Ä: –µ–≥–æ –∏–º—è, –∫–∞—Ç–µ–≥–æ—Ä–∏—é, —Ü–µ–Ω—É –∏ –æ–ø–∏—Å–∞–Ω–∏–µ. –≠—Ç–∏ –¥–∞–Ω–Ω—ã–µ –ø–æ —Å—É—Ç–∏ –Ω–µ–∏–∑–º–µ–Ω—è–µ–º—ã –∏ –≤–µ–¥—É—Ç —Å–µ–±—è –∫–∞–∫ **–∑–Ω–∞—á–µ–Ω–∏—è**. –ö–æ–ø–∏—è –ø—Ä–æ–¥—É–∫—Ç–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ–π –æ—Ç –æ—Ä–∏–≥–∏–Ω–∞–ª–∞, –ø–æ—ç—Ç–æ–º—É —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏–¥–µ–∞–ª—å–Ω–æ –ø–æ–¥—Ö–æ–¥–∏—Ç.  
`Order` ‚Äî —ç—Ç–æ **—Å–Ω–∏–º–æ–∫ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∫–æ—Ä–∑–∏–Ω—ã** –≤ –º–æ–º–µ–Ω—Ç –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è –ø–æ–∫—É–ø–∫–∏. –û–Ω –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –Ω–µ–∏–∑–º–µ–Ω—è–µ–º—ã–º: –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—á–∏—Å—Ç–∏—Ç –∫–æ—Ä–∑–∏–Ω—É –ø–æ—Å–ª–µ –∑–∞–∫–∞–∑–∞, —Å–∞–º –∑–∞–∫–∞–∑ –Ω–µ –¥–æ–ª–∂–µ–Ω –∏–∑–º–µ–Ω–∏—Ç—å—Å—è. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∏ —Å–≤–æ–π—Å—Ç–≤ `let` –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –¥–∞–Ω–Ω—ã–µ –∑–∞–∫–∞–∑–∞ –æ—Å—Ç–∞–Ω—É—Ç—Å—è —Ü–µ–ª–æ—Å—Ç–Ω—ã–º–∏.

### –ü—Ä–∏–º–µ—Ä, –≥–¥–µ –≤–∞–∂–Ω–∞ —Å—Å—ã–ª–æ—á–Ω–∞—è —Å–µ–º–∞–Ω—Ç–∏–∫–∞
–î–æ–ø—É—Å—Ç–∏–º, —É –º–µ–Ω—è –µ—Å—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è `cart1`, –∏ —è –ø—Ä–∏—Å–≤–∞–∏–≤–∞—é –µ—ë –¥—Ä—É–≥–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π `cart2`. –¢–∞–∫ –∫–∞–∫ `ShoppingCart` ‚Äî —ç—Ç–æ –∫–ª–∞—Å—Å, –æ–±–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –±—É–¥—É—Ç —Å—Å—ã–ª–∞—Ç—å—Å—è –Ω–∞ –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ –æ–±—ä–µ–∫—Ç. –ï—Å–ª–∏ —è –¥–æ–±–∞–≤–ª—é —Ç–æ–≤–∞—Ä —á–µ—Ä–µ–∑ `cart2.addProduct(...)`, –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ä–∞–∑—É –±—É–¥—É—Ç –≤–∏–¥–Ω—ã –≤ `cart1`. –≠—Ç–æ —É–¥–æ–±–Ω–æ –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –æ–±—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∫–æ—Ä–∑–∏–Ω—ã –º–µ–∂–¥—É —Ä–∞–∑–Ω—ã–º–∏ —ç–∫—Ä–∞–Ω–∞–º–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

### –ü—Ä–∏–º–µ—Ä, –≥–¥–µ –≤–∞–∂–Ω–∞ –∑–Ω–∞—á–∏–º–∞—è —Å–µ–º–∞–Ω—Ç–∏–∫–∞
–í–æ–∑—å–º—ë–º —Å—Ç—Ä—É–∫—Ç—É—Ä—É `CartItem`. –ï—Å–ª–∏ —è —Å–æ–∑–¥–∞—é –∫–æ–ø–∏—é –æ–±—ä–µ–∫—Ç–∞ –∏ –º–µ–Ω—è—é –≤ –Ω–µ–π –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ, –æ—Ä–∏–≥–∏–Ω–∞–ª –ø—Ä–∏ —ç—Ç–æ–º –Ω–µ –∏–∑–º–µ–Ω—è–µ—Ç—Å—è. –¢–∞–∫–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –ø–æ–ª–µ–∑–Ω–æ, –∫–æ–≥–¥–∞ —è —Ö–æ—á—É –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–ª–∏ –≤—Ä–µ–º–µ–Ω–Ω–æ –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –±–µ–∑ —Ä–∏—Å–∫–∞ –∏—Å–ø–æ—Ä—Ç–∏—Ç—å –∏—Å—Ö–æ–¥–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ.

### –°–ª–æ–∂–Ω–æ—Å—Ç–∏ –∏ –∏—Ö —Ä–µ—à–µ–Ω–∏—è
–ì–ª–∞–≤–Ω–æ–π —Å–ª–æ–∂–Ω–æ—Å—Ç—å—é –¥–ª—è –º–µ–Ω—è –±—ã–ª–æ –Ω–∞–π—Ç–∏ –±–∞–ª–∞–Ω—Å –º–µ–∂–¥—É –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π –¥–∞–Ω–Ω—ã—Ö –∏ —É–¥–æ–±—Å—Ç–≤–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è. –ù–∞–ø—Ä–∏–º–µ—Ä, —É `Product` –∏ `CartItem` —è —Ä–µ–∞–ª–∏–∑–æ–≤–∞–ª–∞ **failable initializers**, —á—Ç–æ–±—ã –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ —Å –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ–π —Ü–µ–Ω–æ–π –∏–ª–∏ –ø–æ–∑–∏—Ü–∏–∏ —Å –Ω—É–ª–µ–≤—ã–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º.  
–¢–∞–∫–∂–µ —è –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞–ª–∞ –∏–∑–º–µ–Ω—è–µ–º–æ—Å—Ç—å: –¥–ª—è —ç—Ç–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∞ `let` –¥–ª—è –Ω–µ–∏–∑–º–µ–Ω—è–µ–º—ã—Ö —Å–≤–æ–π—Å—Ç–≤ –∏ `private(set)` –¥–ª—è –º–∞—Å—Å–∏–≤–∞ —Ç–æ–≤–∞—Ä–æ–≤ –≤–Ω—É—Ç—Ä–∏ –∫–æ—Ä–∑–∏–Ω—ã.  
–ù–∞–∫–æ–Ω–µ—Ü, –≤–∞–∂–Ω–æ –±—ã–ª–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å, —á—Ç–æ –∑–∞–∫–∞–∑ (`Order`) –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ —è–≤–ª—è–µ—Ç—Å—è ¬´–∑–∞–º–æ—Ä–æ–∂–µ–Ω–Ω–æ–π –∫–æ–ø–∏–µ–π¬ª –∫–æ—Ä–∑–∏–Ω—ã. –î–ª—è —ç—Ç–æ–≥–æ –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –∑–∞–∫–∞–∑–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –º–∞—Å—Å–∏–≤–∞ `CartItem` –∏ –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ –∏—Ç–æ–≥–æ–≤—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π. –¢–∞–∫ –ª—é–±—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ—Ä–∑–∏–Ω—ã –ø–æ—Å–ª–µ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è –Ω–∏–∫–∞–∫ –Ω–µ –ø–æ–≤–ª–∏—è—é—Ç –Ω–∞ –∑–∞–∫–∞–∑.


